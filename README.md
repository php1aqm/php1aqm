# 骰子加解密系统

基于骰子方向和位移算法的加解密系统，可以加密中文和英文文本。

## 项目介绍

这个项目实现了一种基于骰子状态变换的加密算法，通过骰子的不同朝向来生成密钥，并使用向量叉乘等数学运算来实现加密和解密过程。系统支持中文汉字（通过拼音转换）和ASCII字符的加解密。骰子的六个面在空间中的不同朝向构成了复杂的密钥空间，使加密过程具有较高的安全性。

## 功能特点

- 支持中文文本加解密（通过拼音转换）
- 支持文件加解密
- 自动生成随机密钥
- 图形用户界面操作
- 支持密钥导入导出
- 独特的基于骰子状态的密钥生成机制
- 双向验证的解密过程

## 系统组件

项目包含以下主要文件：

- `加解密.py`: 主程序，实现了GUI界面和加解密逻辑
- `f_c.py`: 核心函数库，包含各种工具函数和数学运算
- `jiajiemi.py`: GUI界面定义（由PyQt自动生成）
- `jiajiemi.ui`: GUI界面设计文件
- `加解密文件.py`: 用于处理文件的加解密
- `test.py`: 测试脚本

## 安装指南

### 环境要求
- Python 3.6+
- Windows/Linux/macOS

### 安装依赖

```bash
pip install -r requirements.txt
```

或者手动安装：

```bash
pip install PyQt5>=5.15.0 pypinyin>=0.46.0 tqdm>=4.64.0
```

### 运行程序

```bash
python 加解密.py
```

## 使用说明

### 文本加密

1. 在左上文本框输入要加密的文本
2. 点击"生成密钥"按钮获取随机密钥
3. 点击"加密"按钮进行加密
4. 加密后的文本会显示在左下文本框
5. 请务必记录密钥信息，解密时需要使用

### 文本解密

1. 在右上文本框输入要解密的文本
2. 输入完整的四位密钥（格式为：`初始UP值 初始FRONT值 加密后UP值 加密后FRONT值`）
3. 点击"解密"按钮进行解密
4. 解密后的文本会显示在右下文本框

### 文件加解密

使用`加解密文件.py`可以对文件进行加解密：

```bash
python 加解密文件.py
```

## 技术原理

本加密系统使用了以下关键技术：

1. 骰子状态表示：使用三维向量表示骰子的六个面
2. 向量运算：通过叉乘等数学运算实现状态转换
3. 中文处理：使用pypinyin将中文转换为拼音进行处理
4. 字符位移：使用可打印ASCII字符集进行位移加密
5. 状态链：每个字符的加密状态会影响下一个字符的加密密钥

### 算法流程

1. 初始化骰子状态（UP和FRONT面）
2. 将输入文本转换为ASCII或拼音表示
3. 对每个字符：
   - 根据字符生成骰子旋转序列
   - 计算新的骰子状态
   - 使用新状态作为位移密钥进行字符加密
   - 将新状态作为下一个字符的初始状态
4. 生成密文和最终密钥

## 高级功能

- **密钥传递**：加密后密钥会自动显示，可用于解密
- **文本传递**：可直接将加密文本传递到解密输入框
- **自定义密钥**：支持手动输入密钥进行加解密
- **中文支持**：自动将中文转换为拼音处理，保留原文语义

## 安全性说明

- 算法使用骰子状态转换提供密钥复杂性
- 字符间的加密状态相互影响，增强安全性
- 建议使用较长文本提高加密强度
- 密钥由四个数字组成，但实际密钥空间远大于此

## 文件说明

- `遥控.py`: 远程控制功能实现
- `天干地支.py`: 天干地支转换工具
- `测试相等.py`: 算法正确性测试
- `超时模板.py`: 超时处理模板
- 其他 `.txt` 文件: 测试数据和结果

## 许可协议

MIT

## 贡献者

- php1aqm

## 更新日志

### v1.0.0 (2025-04-19)
- 初始版本发布
- 实现基本加解密功能
- 添加GUI界面
